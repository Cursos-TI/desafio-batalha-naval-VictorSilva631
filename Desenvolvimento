#include <stdio.h>
#include <stdlib.h>
#include <math.h>

#define TAMANHO 10
#define OCUPADO 3
#define LIVRE 0

// Inicializa o tabuleiro com valor 0
void inicializarMatriz(int matriz[TAMANHO][TAMANHO]) {
    for (int i = 0; i < TAMANHO; i++)
        for (int j = 0; j < TAMANHO; j++)
            matriz[i][j] = 0;
}

// Exibe qualquer matriz com título
void exibirMatriz(int matriz[TAMANHO][TAMANHO], const char* titulo) {
    printf("\n%s\n\n   ", titulo);
    for (int i = 0; i < TAMANHO; i++) printf("%d ", i);
    printf("\n");
    for (int i = 0; i < TAMANHO; i++) {
        printf("%2d ", i);
        for (int j = 0; j < TAMANHO; j++) {
            printf("%d ", matriz[i][j]);
        }
        printf("\n");
    }
}

// Nível Novato e Intermediário - Posicionamento de navios
void posicionarNavioHorizontal(int matriz[TAMANHO][TAMANHO], int x, int y, int tamanho) {
    for (int i = 0; i < tamanho; i++) {
        matriz[x][y + i] = OCUPADO;
    }
}

void posicionarNavioVertical(int matriz[TAMANHO][TAMANHO], int x, int y, int tamanho) {
    for (int i = 0; i < tamanho; i++) {
        matriz[x + i][y] = OCUPADO;
    }
}

void posicionarNavioDiagonalDireita(int matriz[TAMANHO][TAMANHO], int x, int y, int tamanho) {
    for (int i = 0; i < tamanho; i++) {
        matriz[x + i][y + i] = OCUPADO;
    }
}

void posicionarNavioDiagonalEsquerda(int matriz[TAMANHO][TAMANHO], int x, int y, int tamanho) {
    for (int i = 0; i < tamanho; i++) {
        matriz[x + i][y - i] = OCUPADO;
    }
}

// Nível Mestre - Habilidades especiais
void habilidadeCruz(int matriz[TAMANHO][TAMANHO], int x, int y, int alcance) {
    for (int i = -alcance; i <= alcance; i++) {
        if (x + i >= 0 && x + i < TAMANHO)
            matriz[x + i][y] = 1;
        if (y + i >= 0 && y + i < TAMANHO)
            matriz[x][y + i] = 1;
    }
}

void habilidadeCone(int matriz[TAMANHO][TAMANHO], int x, int y, int altura) {
    for (int i = 0; i < altura; i++) {
        for (int j = -i; j <= i; j++) {
            int nx = x + i;
            int ny = y + j;
            if (nx >= 0 && nx < TAMANHO && ny >= 0 && ny < TAMANHO)
                matriz[nx][ny] = 1;
        }
    }
}

void habilidadeOctaedro(int matriz[TAMANHO][TAMANHO], int x, int y, int raio) {
    for (int dx = -raio; dx <= raio; dx++) {
        for (int dy = -raio; dy <= raio; dy++) {
            if (abs(dx) + abs(dy) <= raio) {
                int nx = x + dx;
                int ny = y + dy;
                if (nx >= 0 && nx < TAMANHO && ny >= 0 && ny < TAMANHO)
                    matriz[nx][ny] = 1;
            }
        }
    }
}

int main() {
    int tabuleiro[TAMANHO][TAMANHO];
    inicializarMatriz(tabuleiro);

    // Nível Intermediário - posicionando 4 navios
    posicionarNavioHorizontal(tabuleiro, 1, 1, 4);
    posicionarNavioVertical(tabuleiro, 2, 8, 3);
    posicionarNavioDiagonalDireita(tabuleiro, 5, 0, 4);
    posicionarNavioDiagonalEsquerda(tabuleiro, 0, 9, 3);

    exibirMatriz(tabuleiro, "Tabuleiro com Navios (0 = livre, 3 = navio)");

    // Nível Mestre - habilidades especiais
    int cone[TAMANHO][TAMANHO], cruz[TAMANHO][TAMANHO], octaedro[TAMANHO][TAMANHO];
    inicializarMatriz(cone);
    inicializarMatriz(cruz);
    inicializarMatriz(octaedro);

    habilidadeCone(cone, 2, 5, 4);
    habilidadeCruz(cruz, 5, 5, 3);
    habilidadeOctaedro(octaedro, 7, 3, 3);

    exibirMatriz(cone, "Área de Habilidade: Cone");
    exibirMatriz(cruz, "Área de Habilidade: Cruz");
    exibirMatriz(octaedro, "Área de Habilidade: Octaedro");

    return 0;
}
